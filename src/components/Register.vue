<template>
  <el-drawer
      v-model="drawer"
      title="隐 私 政 策"
      direction="ltr"
  >
    <p>
      山东大学软件学院严格遵守法律法规，遵循以下隐私保护原则，为您提供更加安全、可靠的服务：<br>
      安全可靠：<br>
      我们竭尽全力通过合理有效的信息安全技术及管理流程，防止您的信息泄露、损毁、丢失。<br>
      自主选择：<br>
      我们为您提供便利的信息管理选项，以便您做出合适的选择，管理您的个人信息。<br>
      保护通信秘密：<br>
      我们严格遵照法律法规，保护您的通信秘密，为您提供安全的通信服务。<br>
      合理必要：<br>
      为了向您和其他用户提供更好的服务，我们仅收集必要的信息。<br>
      公开透明：<br>
      我们努力使用简明易懂的表述，向您介绍隐私政策，以便您清晰地了解我们的信息处理方式。<br>
      将隐私保护融入产品设计：<br>
      我们在产品和服务研发、运营的各个环节，融入隐私保护的理念。<br><br/>

      《山东大学软件学院隐私政策》主要向您说明：<br>
      我们收集哪些信息<br>
      我们收集信息的用途<br>
      您所享有的权利<br><br/>

      您可以通过阅读《山东大学软件学院隐私政策》（以下简称“本隐私政策”），详细了解我们对个人信息的收集、使用方式，以便您更好地了解我们的服务并作出适当的选择。<br>
      如果我们具体的产品和服务有具体的隐私保护指引，您可以查阅该特定隐私保护指引，以帮助您更好地保护您的个人信息。<br>
      本隐私政策适用的产品和服务由山东大学软件学院提供。注册地址为济南市历城区舜华路1500号山东大学软件学院。<br>
      除另有约定外，本隐私政策所用术语与《山东大学软件学院服务协议》中的术语具有相同的涵义。<br>
      如您有问题，请联系我们。<br>

      我们收集的信息<br>
      我们根据法律法规的要求，遵循合法、正当、必要和诚信的原则，仅收集实现产品功能所必要的个人信息。这些信息包括：<br>
      您在使用我们服务时主动提供的信息<br>
      您在注册或使用我们的产品或服务时，主动填写或上传的昵称、手机号码、头像、图片等。<br>
      您通过我们的客服或参加我们举办的活动时所提交的信息。<br>
      我们一些特定的服务可能需要您提供特定的个人信息来实现相关功能。若您选择不提供该类信息，将不会影响您使用产品或服务中的其他功能。<br><br/>

      我们在您使用服务时获取的信息<br>
      日志信息<br>
      例如，当您使用我们的服务时，为了维护产品与服务的安全稳定运行，我们可能会收集设备信息、软件信息、服务日志信息等相关信息。<br>
      其他相关信息<br>
      为了帮助您更好地使用我们的产品或服务，经您的明确授权我们可能会收集相关信息，例如，您选择开启导入通讯录功能，我们可能对您联系人的姓名和电话号码进行加密，并仅收集加密后的信息。<br>
      其他用户分享的信息中含有您的信息<br>
      例如，其他用户发布的照片或分享的视频中可能包含您的信息。<br>
      其他情况获取的信息<br>
      在法律允许的情况下，经过您的同意，我们可能会获得您在使用第三方合作伙伴服务时所产生或分享的信息。例如，您使用微信或QQ账户登录第三方合作伙伴服务时，我们会获得您登录第三方合作伙伴服务的名称等信息，以方便您进行授权管理。您可以阅读第三方合作伙伴服务的用户协议和隐私政策了解相关内容。<br><br/>

      我们如何使用信息<br>
      我们严格遵守法律法规的规定及与用户的约定，将收集的信息用于以下用途。若我们超出以下用途使用您的信息，我们将再次向您进行说明，并征得您的同意。<br>
      向您提供服务<br>
      满足您的个性化需求<br>
      例如，语言设定、位置设定、个性化的帮助服务。<br>
      安全保障<br>
      例如，我们会将您的信息用于身份验证、安全防范、反诈骗监测、存档备份、客户的安全服务等用途。例如，您下载或安装的安全软件会对恶意程序或病毒进行检测，或为您识别诈骗信息。<br>
      向您推荐您可能感兴趣的广告、资讯等<br>
      评估、改善我们的广告投放和其他促销及推广活动的效果<br>
      管理软件<br>
      例如，进行软件认证、软件升级等。<br><br/>

      邀请您参与有关我们服务的调查<br>
      为了让您有更好的体验、改善我们的服务或经您同意的其他用途，在符合相关法律法规的前提下，我们可能将通过某些服务所收集的信息用于我们的其他服务。例如，将您在使用我们某项服务时的信息，用于个性化的服务体验、用户研究分析与统计等服务。<br>
      为了确保服务的安全，帮助我们更好地了解我们应用程序的运行情况，我们可能记录相关信息，例如，您使用应用程序的频率、故障信息、总体使用情况、性能数据以及应用程序的来源。我们不会将我们存储在分析软件中的信息与您在应用程序中提供的个人身份信息相结合。<br>
      随着业务的发展，我们提供的产品功能和服务可能会有所调整和变化，若处理目的因此发生变更，我们将再次向您进行说明，并征得您的同意。<br><br/>

      我们如何使用Cookie、标识符及相关技术<br>
      Cookie、标识符及相关技术是互联网行业普遍使用的技术。按照法律法规的相关规定，我们或我们的第三方合作伙伴，可能通过放置安全的Cookie、标识符及相关技术收集您的信息，以便为您提供更好的用户体验和服务。我们会严格要求第三方合作伙伴遵守本隐私政策的相关规定。<br>
      若您希望了解更多Cookie的安全性等信息，可参见《Cookie政策说明》。<br><br/>

      您分享的信息<br>
      您可以通过我们的服务与您的好友、家人及其他用户分享您的相关信息。<br>
      请注意，这其中可能包含您的个人身份信息、个人财产信息等敏感信息。请您谨慎考虑披露您的相关个人敏感信息。<br>
      您可通过我们服务中的隐私设置来控制您分享信息的范围，也可通过服务中的设置或我们提供的指引删除您公开分享的信息。但请您注意，这些信息仍可能由其他用户或不受我们控制的非关联第三方独立地保存。<br><br/>

      您如何管理自己的信息<br>
      您在使用我们服务的过程中，
      可以通过查阅、复制、更正、补充、删除等方式来管理您的信息。当您使用我们的具体产品和服务时，您可以查阅其独立的隐私保护指引，我们在这些指引中具体描述了您管理自己的个人信息的途径和方式，以帮助您更好的保护您的个人信息。<br>
      例如，若您在使用地理位置相关服务时，希望停止分享您的地理位置信息，您可通过手机定位关闭功能、软硬件服务商及通讯服务提供商的关闭方式停止分享，建议您仔细阅读相关指引。<br>
      在您行使上述权利时，我们可能会要求您进行身份验证，以保障帐号的安全。如果您有任何问题，请通过本隐私政策列明的联系方式与我们联系。<br>
      请您理解，由于技术所限、法律或监管要求，我们可能无法满足您的所有要求，我们会在法律法规规定的期限内进行反馈。同时我们将不断优化产品和服务来保障您的权利。<br><br/>

      第三方数据处理及信息的公开披露<br>
      我们与第三方合作过程中，将遵守法律规定，按照最小必要原则，安全审慎地处理相关数据。<br>
      我们将按照法律法规的规定，对数据处理涉及的第三方进行严格的限制。要求其严格遵守我们关于数据隐私保护的措施与要求，包括但不限于根据数据保护协议、承诺书及相关数据处理政策进行处理，保障数据安全。<br>
      出于为您提供服务的目的，我们可能委托第三方服务商处理您的个人信息，该等服务商将严格按照我们委托的目的和相关委托处理协议处理个人信息。<br>
      我们将严格保护您的个人信息，不会主动公开披露您的个人信息，亦不会主动向合作伙伴分享可用于识别您个人身份的信息，除非经您单独同意或法律法规另有规定，例如：<br>
      为订立、履行个人作为一方当事人的合同所必需，或者按照法律制定的劳动规章制度和依法签订的集体合同实施人力资源管理所必需；<br>
      为履行法定职责或者法定义务所必需；<br>
      为应对突发公共卫生事件，或者紧急情况下为保护自然人的生命健康和财产安全所必需；<br>
      为公共利益实施新闻报道、舆论监督等行为，在合理的范围内处理个人信息；<br>
      依照法律规定在合理的范围内处理个人自行公开或者其他已经合法公开的个人信息；<br>
      法律、行政法规规定的其他情形。<br>
      随着我们业务的持续发展，当发生合并、收购、资产转让等交易导致向第三方转移您的个人信息时，我们将通过推送通知、公告等形式告知您相关情形，按照法律法规及不低于本隐私政策所要求的标准继续保护或要求新的管理者继续保护您的个人信息。<br><br/>

      我们可能向您发送的信息<br>
      信息通知<br>
      您在使用我们的服务时，我们可能向您发送电子邮件、短信、资讯或推送通知。<br>
      您可以按照我们的相关提示，在设备上选择取消订阅。如特定的产品和服务存在个性化推送的信息，请您查阅该产品和服务具体的隐私保护指引获取更能多的信息、或关闭个性化推荐。<br><br/>

      与服务有关的公告<br>
      我们可能在必要时（例如，因系统维护而暂停某一项服务时）向您发出与服务有关的公告。<br>
      您可能无法取消这些与服务有关、性质不属于广告的公告。<br><br/>

      存储信息的地点和期限<br>
      存储信息的地点<br>
      我们遵守法律法规的规定，将在中华人民共和国境内收集和产生的个人信息存储在境内。<br>
      存储信息的期限<br>
      一般而言，我们仅在为实现目的所必需的最短时间内保留您的个人信息，但下列情况除外：<br>
      为遵守适用的法律法规等有关规定；<br>
      为遵守法院判决、裁定或其他法律程序的规定；<br>
      为遵守相关政府机关执法的要求；<br>
      当我们的产品或服务发生停止运营的情形时，我们将采取例如，推送通知、公告等形式通知您，并在合理的期限内删除或匿名化处理您的个人信息。<br><br/>

      信息安全<br>
      我们为您的信息提供相应的安全保障，以防止信息的丢失、不当使用、未经授权访问或披露。<br>
      我们严格遵守法律法规保护用户的通信秘密。<br>
      我们将在合理的安全水平内使用各种安全保护措施以保障信息的安全。<br>
      例如，我们使用加密技术、匿名化处理等手段来保护您的个人信息。<br>
      我们建立专门的管理制度、流程和组织确保信息安全。<br>
      例如，我们严格限制访问信息的人员范围，要求他们遵守保密义务，并进行审查。<br>
      若发生个人信息泄露等安全事件，我们会启动应急预案，阻止安全事件扩大，并以推送通知、公告等形式告知您。<br><br/>

      广告<br>
      为了提供更丰富的广告体验，我们可能向您提供个性化广告服务，您在山东大学软件学院及合作第三方的网站、应用及其他渠道中可以接收到相关广告内容。您可以查阅具体产品的隐私保护指引了解更多。如您不希望接收个性化广告，也可以根据具体产品中的指引进行关闭。<br>

      未成年人保护<br>
      我们非常重视对未成年人个人信息的保护。<br>
      根据相关法律法规的规定，若您是18周岁以下的未成年人，在使用山东大学软件学院的服务前，应事先取得您的家长或法定监护人的同意。<br>
      我们有专门面向14周岁以下的儿童提供的产品或服务、产品或服务中包含专门面向儿童的功能板块，或者需要用户输入生日、年龄信息等能识别用户年龄的产品或服务。<br>
      根据相关法律法规的规定，若您是14周岁以下的儿童，在使用相关的产品或服务前，应当按照注册、使用流程，事先取得您的家长或法定监护人的同意，并由您的家长或法定监护人帮助您完成产品或服务注册流程，以便您能使用我们提供的产品或服务。<br>
      若您是儿童的监护人，当您在帮助儿童完成产品或服务的注册、使用前，应当仔细阅读本政策、产品具体的隐私保护指引（如有）和《儿童隐私保护声明》，决定是否同意本政策、产品具体的隐私保护指引（如有）和《儿童隐私保护声明》并帮助儿童进行注册、使用，以便儿童能使用我们提供的产品或服务。<br>
      如您对您所监护的儿童的个人信息保护有相关疑问或权利请求时，请通过《儿童隐私保护声明》中的第七部分中披露的联系方式与我们联系。我们会在合理的时间内处理并回复您。<br><br/>

      适用范围<br>
      本隐私政策适用的产品和服务由山东大学软件学院提供。<br>
      某些服务有其特定的隐私指引/声明，该特定隐私指引/声明更具体地说明我们在该服务中如何处理您的信息。<br>
      如本政策与特定服务的隐私指引/声明有不一致之处，请以该特定隐私指引声明为准。<br>
      请您注意，本政策不适用由其他公司或个人提供的服务。<br>
      例如，您通过使用微信帐号登录其他公司或个人提供的服务。<br>
      您使用该等第三方服务须受其隐私政策（而非本政策）约束，您需要仔细阅读其政策内容。<br><br/>

      联系我们<br>
      我们设立了专门的个人信息保护团队和个人信息保护负责人，如果您对本隐私政策或个人信息保护相关事宜有任何疑问或投诉、建议时，您可以通过以下方式与我们联系：<br>
      1. 您可以填写 个人信息保护和隐私问题反馈问卷 与我们联系；<br>
      2. 将您的问题邮寄至下列地址：<br>
      济南市历城区舜华路1500号山东大学软件学院 数据隐私保护部（收）<br>
      邮编：250100<br>
      我们将尽快审核所涉问题，并在15个工作日或法律法规规定的期限内予以反馈。<br><br/>

      变更<br>
      我们可能适时修订本隐私政策内容。<br>
      如该等变更会导致您在本隐私政策项下权利的实质减损，我们将在变更生效前，通过在页面显著位置提示。特定产品和服务的隐私保护指引有关个人信息的处理目的、处理方式和处理的个人信息种类发生变更的，会重新取得您的同意。
    </p>
  </el-drawer>
  <el-form ref="ruleFormRef" :model="ruleForm" size="large">
    <Motion :delay="100">
      <el-form-item prop="phone">
        <el-input
            clearable
            v-model="ruleForm.phone"
            placeholder="手机号码"
            prefix-icon="User"
        />
      </el-form-item>
    </Motion>
    <Motion :delay="200">
      <el-form-item prop="password">
        <el-input
            clearable
            show-password
            v-model="ruleForm.password"
            placeholder="密码"
            prefix-icon="User"
        />
      </el-form-item>
    </Motion>
    <Motion :delay="250">
      <el-form-item :rules="repeatPasswordRule" prop="repeatPassword">
        <el-input
            clearable
            show-password
            v-model="ruleForm.repeatPassword"
            placeholder="确认密码"
            prefix-icon="User"
        />
      </el-form-item>
    </Motion>

    <Motion :delay="300">
      <el-form-item>
        <el-checkbox v-model="checked"> 我已仔细阅读并接受</el-checkbox>
        <el-button type="text" @click="drawer=true;"> 《隐私政策》</el-button>
      </el-form-item>
    </Motion>

    <Motion :delay="350">
      <el-form-item>
        <el-button
            class="w-full"
            size="default"
            type="primary"
            @click="goRegister()"
        >
          确定
        </el-button>
      </el-form-item>
    </Motion>

    <Motion :delay="400">
      <el-form-item>
        <el-button class="w-full" size="default" @click="onBack()">
          返回
        </el-button>
      </el-form-item>
    </Motion>
  </el-form>
</template>

<script>
import {ref, reactive} from "vue";
import {Calendar, Search} from "@element-plus/icons-vue";
import axios from "axios";
import {ElMessage, ElNotification} from "element-plus";
import Motion from "@/view/utils/motion.ts";

export default {
  name: "register",
  components: {
    Calendar,
    Search,
    Motion,
  },
  data() {
    return {
      ruleForm: {
        username: "",
        phone: "",
        password: "",
        repeatPassword: "",
      },
      drawer: false,
      checked: false,
    };
  },
  methods: {
    goRegister() {
      //验证手机号的格式是否正确
      let regex = /^(13[0-9]{9})|(15[0-9]{9})|(17[0-9]{9})|(18[0-9]{9})|(19[0-9]{9})$/;

      if (this.ruleForm.phone === '') {
        ElMessage({
          showClose: true,
          message: '手机号为空',
          type: 'error',
        })
      } else if (!regex.test(this.ruleForm.phone)) {
        ElMessage({
          showClose: true,
          message: '手机号格式不正确',
          type: 'error',
        })
      } else {
        if (this.ruleForm.password === '' || this.ruleForm.repeatPassword === '' ||
            this.ruleForm.password.trim() !== this.ruleForm.repeatPassword.trim()) {
          ElMessage({
            showClose: true,
            message: '两次密码不一致',
            type: 'error',
          })
        } else {
          if (this.checked) {
            axios({
              url: '/api/core/register',
              method: 'post',
              data: {
                tele: this.ruleForm.phone,
                password: this.ruleForm.password,
              }
            }).then(resp => {
              if (resp.data.label === true) {
                ElMessage({
                  showClose: true,
                  message: resp.data.info,
                  type: 'success',
                })
                ElNotification({
                  title: '尊敬的用户：',
                  message: '您的账号为:' + resp.data.account +
                      '。提示时间为10s，可以点击右上角\"×\"号关闭',
                  duration: 10000,
                })
                this.$router.push("/")
              } else {
                ElMessage({
                  showClose: true,
                  message: resp.data.info,
                  type: 'error',
                })
              }
            })
          } else {
            ElMessage({
              showClose: true,
              message: '请下方阅读隐私保护并确认',
              type: 'warning',
            })
          }
        }
      }
    },
    onBack() {
      this.$router.go(-1);
      //这里应该返回登陆页面，我们用store全局实现
      //useUserStoreHook().SET_CURRENTPAGE(0);
      //子组件向父组件传值也可
      //this.$emit('currentPage', 0);
    }
  },
}
</script>

